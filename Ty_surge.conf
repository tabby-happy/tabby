[General]
# Update-2021.04.13.12.20
# é€šç”¨è®¾ç½®
# > å¢å¼ºç‰ˆ Wi-Fi åŠ©ç†
wifi-assist = true
# > Internet æµ‹è¯• URL
internet-test-url = http://wifi.vivo.com.cn/generate_204
# > ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://cp.cloudflare.com/generate_204
# > æµ‹è¯•è¶…æ—¶ï¼ˆç§’ï¼‰
test-timeout = 3
# > TLS å¼•æ“
tls-provider = openssl
# > è‡ªå®šä¹‰ GeoIP æ•°æ®åº“
geoip-maxmind-url = https://cdn.jsdelivr.net/gh/Hackl0us/GeoIP2-CN@release/Country.mmdb
# > IPv6 æ”¯æŒï¼ˆé»˜è®¤å…³é—­ï¼‰
ipv6 = false
# > å…è®¸ Wi-Fi è®¿é—® (ä»… iOSï¼Œè‹¥å…è®¸è¿œç¨‹è®¿é—®å°†ã€Œfalseã€æ”¹ä¸ºã€Œtrueã€)
allow-wifi-access = true
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153
# > å…è®¸ Wi-Fi è®¿é—® (ä»… macOSï¼Œè‹¥å…è®¸è¿œç¨‹è®¿é—®å°†ã€Œ127.0.0.1ã€æ”¹ä¸ºã€Œ0.0.0.0ã€)
http-listen = 127.0.0.1:6152
socks5-listen = 127.0.0.1:6153
# > å…¼å®¹æ¨¡å¼ (ä»… iOS)
# compatibility-mode = 0
# > è·³è¿‡ä»£ç†
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, localhost, *.local, passenger.t3go.cn
# > æ’é™¤ç®€å•ä¸»æœºå
exclude-simple-hostnames = true
# > Network framwork
network-framework = false
# > DNS æœåŠ¡å™¨
dns-server = 119.29.29.29, 223.5.5.5, 114.114.114.114, system
# > DNS over HTPPS
# å›½å†…æ­£å¸¸æƒ…å†µä¸‹æ²¡å¿…è¦ä½¿ç”¨DoHï¼Œæ€§èƒ½æŸè€—æ¯”è¾ƒä¸¥é‡ã€‚éƒ¨åˆ†DoHä¸æ”¯æŒECSå¯¼è‡´CDNåˆ†é…é”™è¯¯è€Œå¯¼è‡´èµ„æºåŠ è½½ç¼“æ…¢ã€‚å¦‚æ— å¿…è¦ä¸å»ºè®®ä½¿ç”¨ DNS over HTTPS
# doh-server = https://dns.alidns.com/dns-query
# > ä» /etc/hosts è¯»å– DNS è®°å½•
read-etc-hosts = true
# é«˜çº§è®¾ç½®
# > æ—¥å¿—çº§åˆ«
loglevel = warning
# > å½“é‡åˆ° REJECT ç­–ç•¥æ—¶è¿”å›é”™è¯¯é¡µ
show-error-page-for-reject = true
# > Always Real IP Hosts
always-real-ip = msftconnecttest.com, msftncsi.com, *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.battlenet.com.cn, *.battlenet.com, *.blzstatic.cn, *.battle.net
# > TCP Force HTTP Hosts
force-http-engine-hosts = *.ott.cibntv.net,123.59.31.1,119.18.193.135,122.14.246.33,175.102.178.52
# > VIF Excluded Routes
tun-excluded-routes = 239.255.255.250/32
# > HTTP-API
# è®©å¦ä¸€ä¸ªAppæˆ–è€…è®¾å¤‡é€šè¿‡HTTP-APIæ§åˆ¶SurgeåŠŸèƒ½
# ä¾æ¬¡ä¸ºï¼šå¯†ç ï¼Œä¸»æœºåï¼Œç«¯å£
http-api = Brian@0.0.0.0:6171

[Replica]
# 0 ä¸ºå…³é—­ï¼Œ1 ä¸ºå¼€å¯
# > éšè— Apple è¯·æ±‚
hide-apple-request = 0
# > éšè—å´©æºƒè¿½è¸ªå™¨è¯·æ±‚
hide-crash-reporter-request = 1
# > éšè— UDP ä¼šè¯
hide-udp = 0
# > å…³é”®è¯è¿‡æ»¤å™¨
# noneï¼ˆå…³é—­å…³é”®è¯è¿‡æ»¤å™¨ï¼‰ / whitelistï¼ˆblacklistï¼ˆä»…è®°å½•åŒ…å«å…³é”®å­—çš„è¯·æ±‚ï¼‰ï¼‰ / blacklistï¼ˆä»…è®°å½•ä¸åŒ…å«å…³é”®å­—çš„è¯·æ±‚ï¼‰ / patternï¼ˆåŒ¹é…é€šé…ç¬¦çš„è¯·æ±‚ï¼‰
# keyword-filter-type = none
# > å…³é”®è¯
# keyword-filter = (null)

[Proxy]
è§£é”ç½‘æ˜“äº‘éŸ³ä¹ = http, 106.52.127.72, 19951
SSèŠ‚ç‚¹ç¤ºä¾‹ = ss, 1.2.3.4, 443, encrypt-method=chacha20-ietf-poly1305, password=password
V2rayèŠ‚ç‚¹ç¤ºä¾‹ = vmess, v2ray.cool, 443, username=a3482e88-686a-4a58-8126-99c9df64b7bf, tls=true, ws=true, ws-path=/v2ray.cool/
TrojanèŠ‚ç‚¹ç¤ºä¾‹ = trojan, trojan.com, 443, password=password

[Proxy Group]
ğŸ‘€ Wifiæ— å¿§åˆ‡æ¢ = ssid, default = ğŸš€ èŠ‚ç‚¹é€‰æ‹©, cellular = ğŸš€ èŠ‚ç‚¹é€‰æ‹©, "FHY_5G" = DIRECT
ğŸš€ èŠ‚ç‚¹é€‰æ‹© = select, DIRECT, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‘‹ æ‰‹åŠ¨åˆ‡æ¢
ğŸ‘‹ æ‰‹åŠ¨åˆ‡æ¢ = select, policy-path=https://subcon.py6.pw/sub?target=surge&ver=4&emoji=true&list=true&udp=false&tfo=false&scv=false&fdn=false&sort=false, update-interval=0
â™»ï¸ è‡ªåŠ¨é€‰æ‹© = url-test, url=http://www.gstatic.com/generate_204, policy-path=https://subcon.py6.pw/sub?target=surge&ver=4&emoji=true&list=true&udp=false&tfo=false&scv=false&fdn=false&sort=false, update-interval=86400, timeout=0, interval=300, tolerance=0
ğŸ¯ å…¨çƒç›´è¿ = select, DIRECT, ğŸš€ èŠ‚ç‚¹é€‰æ‹©
ğŸ›‘ å…¨çƒæ‹¦æˆª = select, REJECT, DIRECT
ğŸ¶ ç½‘æ˜“éŸ³ä¹ = select, REJECT, DIRECT, è§£é”ç½‘æ˜“äº‘éŸ³ä¹
ğŸŸ æ¼ç½‘ä¹‹é±¼ = select, ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ¯ å…¨çƒç›´è¿, DIRECT

[Rule]
# æœ¬åœ°ç½‘ç»œ-ç›´è¿
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/LocalAreaNetwork.list,ğŸ¯ å…¨çƒç›´è¿
# å»å¹¿å‘Šç™½åå•-ç›´è¿
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/UnBan.list,ğŸ¯ å…¨çƒç›´è¿
# å¸¸è§å¹¿å‘Šå…³é”®å­—-æ‹¦æˆª
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list,ğŸ›‘ å…¨çƒæ‹¦æˆª
# å¸¸ç”¨åº”ç”¨å†…å»å¹¿å‘Š-æ‹¦æˆª
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list,ğŸ›‘ å…¨çƒæ‹¦æˆª
# è°·æ­Œå›½å†…ä¸šåŠ¡-ç›´è¿
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/GoogleCN.list,ğŸ¯ å…¨çƒç›´è¿
# ç”µæŠ¥è§„åˆ™-ä»£ç†
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Telegram.list,ğŸ‘€ Wifiæ— å¿§åˆ‡æ¢
# ç½‘æ˜“äº‘éŸ³ä¹
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/NetEaseMusic.list,ğŸ¶ ç½‘æ˜“éŸ³ä¹
# å›½å¤–åª’ä½“-ä»£ç†
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyMedia.list,ğŸ‘€ Wifiæ— å¿§åˆ‡æ¢
# å›½å¤–åŸŸåç­‰è§„åˆ™ï¼ˆè½»é‡çº§ï¼‰-ä»£ç†
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyLite.list,ğŸ‘€ Wifiæ— å¿§åˆ‡æ¢
# å›½å†…åŸŸå-ç›´è¿
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list,ğŸ¯ å…¨çƒç›´è¿
# å›½å†…äº‘æœåŠ¡å•†IPæ®µ-ç›´è¿
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaCompanyIp.list,ğŸ¯ å…¨çƒç›´è¿
# è§£é”ç½‘æ˜“äº‘åå‡ºç°å›½å†…æ­Œæ›²æ— æ³•æ’­æ”¾ç­‰å¼‚å¸¸åˆ™å¯ç”¨ä¸‹é¢è¿™è¡Œ
#DOMAIN-SUFFIX,music.126.net,ğŸ¯ å…¨çƒç›´è¿
# GEOIPæ•°æ®åº“å†…å›½å†…IP-ç›´è¿
GEOIP,CN,ğŸ¯ å…¨çƒç›´è¿
# ä»¥ä¸Šè§„åˆ™æœªåŒ…å«çš„å…¶ä»–è®¿é—®
FINAL,ğŸŸ æ¼ç½‘ä¹‹é±¼, dns-failed

[Host]
# Firebase Cloud Messaging
mtalk.google.com = 108.177.125.188
# Google Dl
dl.google.com = server:119.29.29.29
dl.l.google.com = server:119.29.29.29
# Apple TestFlight
testflight.apple.com = server:8.8.4.4

[URL Rewrite]
# Youtubeå»å¹¿å‘Š
(^https?:\/\/[\w-]+\.googlevideo\.com\/.+)(ctier=L)(&.+) $1$3 302
# é˜»æ­¢google.com è·³è½¬åˆ°google.com.hk
^https?:\/\/(www\.)?g\.cn https://www.google.com/ncr 302
^https?:\/\/(www\.)?google\.cn https://www.google.com/ncr 302


[Header Rewrite]
# å»ºè®®å¿…é€‰ä½¿ç”¨ General.sgmoduleï¼ˆhttps://github.com/TributePaulWalker/Profiles/tree/main/Surge/Moduleï¼‰ï¼Œå…¶ä»– .sgmodule æŒ‰éœ€åŠ å…¥
# ç™¾åº¦é˜²è·³è½¬
^https?:\/\/.*\.baidu\.com header-replace User-Agent "Mozilla/5.0 (Linux; Android 9.0; iPhone; U; CPU iPhone OS 9_9_9 like Mac OS X; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.23 SP-engine/2.19.0 baiduboxapp (Baidu; P1 9.0)"

[MITM]
skip-server-cert-verify = true
hostname = www.google.cn, api.abema.io, api.weibo.cn, mapi.weibo.com, *.uve.weibo.com, -*.weibo.com, mp.weixin.qq.com, trade-acs.m.taobao.com, api.m.jd.com, pan.baidu.com, vip1.kuwo.cn, testflight.apple.com, *.baidu.com, duckduckgo.com, sub.store

[Script]
Sub-Store = type=http-request,pattern=^https?:\/\/sub\.store,script-path=https://raw.githubusercontent.com/Peng-YM/Sub-Store/master/backend/sub-store.min.js,requires-body=true,timeout=120,max-size=131072
Sub-Store è‡ªåŠ¨åŒæ­¥ = type=cron,cronexp=0 12 * * *,script-path=https://raw.githubusercontent.com/Peng-YM/Sub-Store/master/scripts/cron-sync-artifacts.js
å¾®åšå¼€å±å»å¹¿å‘Š = type=http-response,pattern=^https?://(sdk|wb)app\.uve\.weibo\.com(/interface/sdk/sdkad.php|/wbapplua/wbpullad.lua),requires-body=1,max-size=0,timeout=30,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/wb_launch.js,script-update-interval=0
å¾®åšå»å¹¿å‘Š = type=http-response,pattern=^https?://m?api\.weibo\.c(n|om)/2/(statuses/(unread|extend|positives/get|(friends|video)(/|_)(mix)?timeline)|stories/(video_stream|home_list)|(groups|fangle)/timeline|profile/statuses|comments/build_comments|photo/recommend_list|service/picfeed|searchall|cardlist|page|!/photos/pic_recommend_status|video/tiny_stream_video_list|photo/info),requires-body=1,max-size=-1,timeout=30,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/wb_ad.js,script-update-interval=0
å¾®ä¿¡å…¬ä¼—å·å»å¹¿å‘Š = type=http-request,pattern=^https://mp\.weixin\.qq\.com/mp/getappmsgad,timeout=30,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/QuantumultX/File/Wechat.js,script-update-interval=0
// æ·˜å®æ¯”ä»·1 Lite(é€šçŸ¥ç‰ˆ) = type=http-request,pattern=^http://.+/amdc/mobileDispatch,requires-body=1,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/tb_price_lite.js,script-update-interval=0
// æ·˜å®æ¯”ä»·2 Lite(é€šçŸ¥ç‰ˆ) = type=http-response,pattern=^https?://trade-acs\.m\.taobao\.com/gw/mtop\.taobao\.detail\.getdetail,requires-body=1,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/tb_price_lite.js,script-update-interval=0
æ·˜å®æ¯”ä»·1ï¼ˆå†…ç½®ç‰ˆï¼‰ = type=http-request,pattern=^http://.+/amdc/mobileDispatch,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/tb_price.js,script-update-interval=0
æ·˜å®æ¯”ä»·2ï¼ˆå†…ç½®ç‰ˆï¼‰ = type=http-response,pattern=^https?://trade-acs\.m\.taobao\.com/gw/mtop\.taobao\.detail\.getdetail,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/tb_price.js,script-update-interval=0
äº¬ä¸œå†å²ä»·æ ¼æŸ¥è¯¢ = type=http-response,pattern=^https?://api\.m\.jd\.com/client\.action\?functionId=(wareBusiness|serverConfig|basicConfig),requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/jd_price.js,script-update-interval=0
é…·æˆ‘éŸ³ä¹VIP = type=http-response,pattern=^https?:\/\/vip1\.kuwo\.cn\/(vip\/v2\/user\/vip|vip\/spi/mservice),requires-body=1,max-size=0,timeout=60,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/Kuwo.js,script-update-interval=0
TestFlightä¸‹è½½ä¿®æ­£ = type=http-request,pattern=^https?:\/\/testflight\.apple\.com\/v\d\/accounts\/.+?\/install$,requires-body=1,max-size=0,script-path=https://gist.githubusercontent.com/NobyDa/9be418b93afc5e9c8a8f4d28ae403cf2/raw/TF_Download.js
